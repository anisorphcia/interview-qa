<script>
    Function.prototype.myApply = function(ctx){
        ctx = ctx || window
        let fn = Symbol()
        ctx[fn] = this
        let result
        if(arguments[1]){
            result = ctx[fn](...arguments[1])
        }else{
            result = ctx[fn]()
        }
        delete ctx[fn]
        return result
    }
    let obj = {
        name: 'asakao'
    }
    function foo(){
        return this.name
    }
    console.log(foo.myApply(obj))
</script>