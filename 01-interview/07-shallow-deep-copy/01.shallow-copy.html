<script>
    function shallowCopy(obj) {
        if (typeof obj !== 'object' || obj === null) return obj

        const copy = Array.isArray(obj) ? [] : {}
        for (let key in obj) {
            if (obj.hasOwnProperty(key)) {
                copy[key] = obj[key]
            }
        }
        return copy
    }

    const obj = { a: 1, b: { c: 2 } }
    const shallowObj = Object.assign({}, obj)

    const copyObj = shallowCopy(obj)
    obj.b.c = 3
    console.log(shallowObj.b.c)
    console.log(copyObj.b.c)

    const obj1 = {
        name: 'init',
        arr: [1, [2, 3], 4],
    };
    const obj3 = shallowCopy(obj1)
    obj3.name = "update";
    obj3.arr[1] = [5, 6, 7];

    console.log('obj1', obj1) // obj1 { name: 'init',  arr: [ 1, [ 5, 6, 7 ], 4 ] }
    console.log('obj3', obj3)
</script>